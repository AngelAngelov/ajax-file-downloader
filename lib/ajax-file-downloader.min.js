!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?e(module.exports||exports):(window.ajaxFileDownloader={},e(window.ajaxFileDownloader))}(function(e){var t=void 0!==e?e:{};function n(e,t,n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState)if(this.status>=200&&this.status<300)o(null,JSON.parse(this.responseText));else{let e={statusCode:this.status,text:this.responseText};o(e,null)}},i.open(e,t,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(n))}function o(e){if(window.URL&&window.Blob&&window.atob){var t=function(e,t,n){if(!window.atob||!window.Uint8Array)return null;t=t||"",n=n||512;for(var o=atob(e),i=[],a=0;a<o.length;a+=n){for(var r=o.slice(a,a+n),d=new Array(r.length),f=0;f<r.length;f++)d[f]=r.charCodeAt(f);var s=new Uint8Array(d);i[i.length]=s}return new Blob(i,{type:t})}(e.data,e.mimetype),n=document.createElement("a");if("download"in n){var o=window.URL.createObjectURL(t);document.body.appendChild(n),n.href=o,n.download=e.filename,n.click(),document.body.removeChild(n)}else navigator.msSaveBlob(t,e.filename)}}return t.post=function(e,t,i){n("POST",e,t,function(e,t){e?i&&"function"==typeof i&&i(e):(o(t),i&&"function"==typeof i&&i())})},t.get=function(e,t){n("GET",e,null,function(e,n){e?t&&"function"==typeof t&&t(e):(o(n),t&&"function"==typeof t&&t())})},t});