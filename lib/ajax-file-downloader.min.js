!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?e(module.exports||exports):(window.ajaxFileDownloader={},e(window.ajaxFileDownloader))}(function(e){function t(e,t,n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState)if(this.status>=200&&this.status<300)o(null,JSON.parse(this.responseText));else{let e={statusCode:this.status,text:this.responseText};o(e,null)}},i.open(e,t,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(n))}function n(e){var t=document.createElement("a");if(window.URL&&window.Blob&&"download"in t&&window.atob){var n=function(e,t,n){if(!window.atob||!window.Uint8Array)return null;t=t||"",n=n||512;for(var o=atob(e),i=[],a=0;a<o.length;a+=n){for(var r=o.slice(a,a+n),s=new Array(r.length),d=0;d<r.length;d++)s[d]=r.charCodeAt(d);var f=new Uint8Array(s);i[i.length]=f}return new Blob(i,{type:t})}(e.data,e.mimetype),o=window.URL.createObjectURL(n);t.href=o,t.download=e.filename,t.click(),window.URL.revokeObjectURL(o)}}var o=void 0!==e?e:{};return o.post=((e,o,i)=>{t("POST",e,o,(e,t)=>{e?i&&"function"==typeof i&&i(e):(n(t),i&&"function"==typeof i&&i())})}),o.get=((e,o)=>{t("GET",e,null,(e,t)=>{e?o&&"function"==typeof o&&o(e):(n(t),o&&"function"==typeof o&&o())})}),o});